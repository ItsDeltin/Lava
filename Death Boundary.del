import "Lava.del";

rule: "Ceiling"
Event.OngoingPlayer
if (HasSpawned())
if (IsAlive())
if (!IsInSpawnRoom())
if (SpeedOfInDirection(EventPlayer(), Up()) > 0)
if (PositionOf(EventPlayer()).Y + SpeedOfInDirection(EventPlayer(), Up()) / 3.5 > 173)
{
    ApplyImpulse(EventPlayer(), Down(), Max(3, SpeedOfInDirection(EventPlayer(), Up())), Relative.ToWorld, ContraryMotion.Cancel);
    Wait(0.07);
    LoopIfConditionIsTrue();
}